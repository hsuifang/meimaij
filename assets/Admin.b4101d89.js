import{r as k,I as f,s as _,o as d,a as p,b as e,h as i,y as r,g,B as y,i as w,U as u,V as x,j as l,C,W as b}from"./index.e493b80b.js";const B={class:"back bg-logo min-vh-100"},L={class:"container py-5"},V={class:"nav justify-content-center align-items-center"},N={class:"nav-item"},T=l("\u56DE\u5230\u524D\u53F0"),A={class:"nav-item"},j=l("\u7522\u54C1\u5217\u8868"),U={class:"nav-item"},W=l("\u8A02\u55AE"),E={class:"nav-item"},I=["onClick"],R={__name:"Admin",setup(J){const{toggleLoading:o}=C(),a=k(!1),n=f(),h=async()=>{o(!0);const s=u.getToken();if(s)try{const c=await x(s),{success:t}=c.data;t?a.value=!0:n.push({name:"login"})}catch{}else n.push({name:"login"});o(!1)},m=async()=>{o(!0);try{(await b()).data.success&&(u.removeToken(),a.value=!1,n.push({name:"login"}))}catch{}o(!1)};return h(),(s,c)=>{const t=_("router-link"),v=_("router-view");return d(),p("div",B,[e("div",L,[e("ul",V,[e("li",N,[i(t,{class:"nav-link",to:"/"},{default:r(()=>[T]),_:1})]),e("li",A,[i(t,{class:"nav-link",to:"/admin"},{default:r(()=>[j]),_:1})]),e("li",U,[i(t,{class:"nav-link",to:"/admin/orders"},{default:r(()=>[W]),_:1})]),e("li",E,[e("a",{href:"#",class:"nav-link",onClick:g(m,["prevent"])},"\u767B\u51FA",8,I)])]),a.value?(d(),y(v,{key:0})):w("",!0)])])}}};export{R as default};
