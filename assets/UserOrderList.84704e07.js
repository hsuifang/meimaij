import{_ as b}from"./AppTable.6ba10a09.js";import{J as f,r as y,o as n,a as c,h,y as r,T as k,b as s,F as v,e as x,t,E as C,N as m,n as L,O as N,i as O,C as q}from"./index.915aefb2.js";const P={class:"fs-8 text-secondary mt-1"},$={class:"px-2"},w={class:"fs-7"},B={key:0,class:"fs-8"},S=["onClick"],F={__name:"UserOrderList",setup(T){const{toggleLoading:d}=q(),g=[{name:"title",label:"\u540D\u7A31",className:"col-3"},{name:"qty",label:"\u6578\u91CF"},{name:"order_time",label:"\u8A02\u8CFC\u65E5\u671F"},{name:"is_paid",label:"\u4ED8\u6B3E"},{name:"action",label:"\u660E\u7D30"}],p=f({data:[]}),u=y({currentPage:1,totalPages:1});return(async(i=1)=>{var l;d(!0);try{const a=await k(i),{success:e,orders:o,pagination:_}=a.data;e&&(p.data=o,u.value={currentPage:_.current_page,totalPages:_.total_pages})}catch(a){addNotifications({message:((l=a.response)==null?void 0:l.message)||"\u7CFB\u7D71\u767C\u751F\u7570\u5E38",type:"danger"})}d(!1)})(),(i,l)=>{const a=b;return n(),c("div",null,[h(a,{columns:g,values:p.data,pages:u.value},{title:r(({data:e})=>[s("div",null,[(n(!0),c(v,null,x(e.products,o=>(n(),c("p",{class:"fs-7 text-dark",key:o.id},t(o.product.title),1))),128)),s("p",P,t(C(e.total)),1)])]),qty:r(({data:e})=>[s("p",$,t(Object.keys(e.products).length),1)]),order_time:r(({data:e})=>[s("p",w,t(m(e.create_at)),1)]),is_paid:r(({data:e})=>[s("div",null,[s("p",{class:L([[e.is_paid?"bg-success":"bg-danger"],"rounded text-white px-2 d-inline-block mb-1 fs-8"])},t(e.is_paid?"\u5DF2\u4ED8\u6B3E":"\u672A\u4ED8\u6B3E"),3),e.paid_date?(n(),c("p",B,t(m(e.paid_date))+" "+t(N(e.paid_date)),1)):O("",!0)])]),action:r(({data:e})=>[s("button",{type:"button",class:"btn btn-outline-info btn-sm",onClick:o=>i.$router.push(`/order/${e.id}`)}," \u67E5\u770B ",8,S)]),_:1},8,["values","pages"])])}}};export{F as default};
