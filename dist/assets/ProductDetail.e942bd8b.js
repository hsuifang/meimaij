var j=Object.defineProperty,z=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var P=(c,o,i)=>o in c?j(c,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[o]=i,B=(c,o)=>{for(var i in o||(o={}))E.call(o,i)&&P(c,i,o[i]);if($)for(var i of $(o))G.call(o,i)&&P(c,i,o[i]);return c},N=(c,o)=>z(c,R(o));import{u as O,l as H,r as x,m as J,p as K,q as Q,s as V,o as u,a as _,b as t,g,t as r,F as k,e as I,h as a,j as W,w as h,v as X,f as b,x as f,i as Y,n as S,y as T,z as Z,A as tt,B as et,C as st,D as ot,_ as at,k as nt}from"./index.b4d69f2f.js";const it={class:"container py-5"},lt={class:"mb-5"},rt={"aria-label":"breadcrumb"},ct={class:"breadcrumb"},dt={class:"breadcrumb-item"},mt={class:"breadcrumb-item active","aria-current":"page"},ut={class:"product-detail mb-3 px-3 px-md-0"},pt={class:"product-detail-main mb-3 mb-lg-5"},_t={class:"product-detail-cover"},ht={class:"product-detail-image mb-2"},bt=["src"],vt={class:"product-detail-thumbnails"},gt=["onClick"],ft=["src"],wt={class:"product-detail-content"},yt={class:"py-3 py-md-5 ps-lg-5 border-bottom"},xt={class:"mb-1"},kt={class:"mb-3"},Ct={class:"text-primary mb-3 mb-lg-4"},$t={class:"fs-5 text-info"},Pt={class:"text-info mb-4"},Bt={class:"d-lg-flex"},Nt={class:"d-flex align-items-center mb-3 mb-lg-0"},Vt=t("label",{for:"input-quantity",class:"me-2"},"\u6578\u91CF",-1),It={class:"ps-lg-5 py-4"},St={class:"py-1 text-gray-500 fs-7"},Tt={class:"py-1 text-gray-500 fs-7"},Dt={key:0,class:"py-1 text-gray-500 fs-7"},Ft={class:"product-detail-sub"},Ut={class:"d-flex mb-3 mb-lg-5 border-bottom"},qt=t("p",{class:"py-3 fw-bold"},"\u8AAA\u660E ---",-1),At=t("p",{class:"py-3 fw-bold"},"\u5167\u5BB9 ---",-1),Lt=t("p",{class:"py-3 fw-bold"},"\u898F\u683C ---",-1),Mt={class:"py-4 d-flex border-bottom"},jt=t("img",{src:"https://mdbcdn.b-cdn.net/img/new/avatars/1.webp",class:"rounded-circle",style:{width:"80px"},alt:"Avatar"},null,-1),zt={class:"ms-3"},Rt={class:"d-flex align-items-center mb-2"},Et=t("p",{class:"fw-bold"},"\u53F0\u4E2D\u9673\u5C0F\u59D0",-1),Gt={class:"px-2"},Ot=t("p",{class:"mb-1"},"\u904E\u5F80\u6C92\u6709\u4F7F\u7528\u904E\u8A72\u7522\u54C1\uFF0C\u60F3\u8AAA\u8A66\u8A66\u770B\uFF0C\u6C92\u60F3\u5230\u6211\u5BB6\u7684\u81ED\u5BF6\u8C9D\u8D85\u559C\u6B61\uFF01",-1),Ht=t("p",{class:"text-info"},"2021/03/06",-1),Jt={class:"py-4 d-flex border-bottom"},Kt=t("img",{src:"https://mdbcdn.b-cdn.net/img/new/avatars/1.webp",class:"rounded-circle",style:{width:"80px"},alt:"Avatar"},null,-1),Qt={class:"ms-3"},Wt={class:"d-flex align-items-center mb-2"},Xt=t("p",{class:"fw-bold"},"\u53F0\u4E2D\u738B\u5C0F\u59D0",-1),Yt={class:"px-2"},Zt=t("p",{class:"mb-1"},"\u63A8\u85A6\u7D66\u60F3\u8CFC\u8CB7\u7684\u4E86\uFF0C\u6211\u5BB6\u5BF6\u8C9D\u662F\u898B\u8B49\u8005 :)",-1),te=t("p",{class:"text-info"},"2021/05/06",-1),ee={class:"py-5 py-lg-8 bg-light"},se={class:"container"},oe=t("h2",{class:"border-start border-primary border-4 mb-3 mb-lg-4 ps-3"},"\u4F60\u53EF\u80FD\u6709\u8208\u8DA3",-1),le={__name:"ProductDetail",setup(c){const{toggleLoading:o}=st(),{addNotifications:i}=ot(),w=O(),D=H(),d=x("discript");w.products.length||w.fetchValidProducts();const F=J(),y=x(1),e=x({}),U=async v=>{var s;o(!0);try{const p=await Z(v),{success:n,product:m}=p.data;n?e.value=N(B({},m),{imagesUrl:[m.imageUrl,...m.imagesUrl],mainImage:m.imageUrl}):i({message,type:"danger"})}catch(p){i({message:(s=p.response)==null?void 0:s.message,type:"danger"})}o(!1)},{toggleFavorite:q,initFavorite:A,isFavorite:C}=K();return Q(()=>{A(e.id)}),U(F.params.id),(v,s)=>{const p=tt,n=at,m=nt,L=V("swiper-slide"),M=V("swiper");return u(),_(k,null,[t("section",it,[t("div",lt,[t("nav",rt,[t("ol",ct,[t("li",dt,[t("a",{href:"#",onClick:s[0]||(s[0]=g(l=>v.$router.push("/"),["prevent"]))},"\u9996\u9801")]),t("li",mt,r(v.$route.meta.title),1)])])]),t("div",ut,[t("div",pt,[t("div",_t,[t("div",ht,[t("img",{alt:"mainImage",src:e.value.mainImage},null,8,bt)]),t("ul",vt,[(u(!0),_(k,null,I(e.value.imagesUrl,l=>(u(),_("li",{class:"product-detail-thumbnail cursor-pointer",key:l,onClick:ae=>e.value.mainImage=l},[t("img",{src:l,class:"obj-fit-contain",alt:"thumbnailImg"},null,8,ft)],8,gt))),128))])]),t("div",wt,[t("div",yt,[t("h2",xt,r(e.value.title),1),t("div",kt,[a(p,{rate:+e.value.rate||0},null,8,["rate"])]),t("h3",Ct,[W(" NT$ "+r(e.value.price)+" ",1),t("del",$t,"NT$ "+r(e.value.origin_price),1)]),t("p",Pt,r(e.value.content),1),t("div",Bt,[t("div",Nt,[Vt,h(t("input",{type:"number",name:"quantity",min:"1",id:"input-quantity",class:"form-control w-auto me-2","onUpdate:modelValue":s[1]||(s[1]=l=>y.value=l)},null,512),[[X,y.value]])]),t("button",{type:"button",class:"btn btn-primary text-white me-2",onClick:s[2]||(s[2]=l=>b(D).addToCart({productId:e.value.id,qty:y.value}))}," \u52A0\u5165\u8CFC\u7269\u8ECA"),t("button",{type:"button",class:"btn btn-outline-info",onClick:s[3]||(s[3]=g(l=>b(q)(e.value),["stop"]))},[h(a(n,{name:"favorite-fill",width:"24",height:"24",normal:"#ea8484"},null,512),[[f,b(C)]]),h(a(n,{name:"favorite",width:"24",height:"24"},null,512),[[f,!b(C)]])])])]),t("ul",It,[t("li",St,"\u7DE8\u865F:"+r(e.value.id),1),t("li",Tt,"\u5206\u985E: "+r(e.value.category),1),e.value.statusType?(u(),_("li",Dt," \u6A19\u7C64: "+r(e.value.statusType),1)):Y("",!0)])])]),t("div",Ft,[t("nav",null,[t("ul",Ut,[t("li",{onClick:s[5]||(s[5]=l=>d.value="discript"),class:S(["h4 me-6 pb-3 fw-bold border-bottom border-4",d.value==="discript"?"border-primary":"border-transparent"])},[t("a",{href:"#",class:"text-info",onClick:s[4]||(s[4]=g(()=>{},["prevent"]))},"\u7522\u54C1\u8AAA\u660E")],2),t("li",{class:S(["h4 pb-3 fw-bold border-bottom border-4",d.value==="comment"?"border-primary":"border-transparent"]),onClick:s[7]||(s[7]=l=>d.value="comment")},[t("a",{href:"#",class:"text-info",onClick:s[6]||(s[6]=g(()=>{},["prevent"]))},"\u5546\u54C1\u8A55\u50F9")],2)])]),h(t("div",null,[qt,t("p",null,r(e.value.description),1),At,t("p",null,r(e.value.content),1),Lt,t("p",null,r(e.value.spec),1)],512),[[f,d.value==="discript"]]),h(t("ul",null,[t("li",Mt,[jt,t("div",zt,[t("div",Rt,[Et,t("div",Gt,[a(n,{name:"star",width:"16",height:"16",normal:"orange"}),a(n,{name:"star",width:"16",height:"16",normal:"orange"}),a(n,{name:"star",width:"16",height:"16",normal:"orange"}),a(n,{name:"star",width:"16",height:"16",normal:"orange"}),a(n,{name:"star",width:"16",height:"16",normal:"orange"})])]),Ot,Ht])]),t("li",Jt,[Kt,t("div",Qt,[t("div",Wt,[Xt,t("div",Yt,[a(n,{name:"star",width:"16",height:"16",normal:"orange"}),a(n,{name:"star",width:"16",height:"16",normal:"orange"}),a(n,{name:"star",width:"16",height:"16",normal:"orange"}),a(n,{name:"star",width:"16",height:"16",normal:"orange"}),a(n,{name:"star",width:"16",height:"16",normal:"orange"})])]),Zt,te])])],512),[[f,d.value==="comment"]])])])]),t("section",ee,[t("div",se,[oe,a(M,{autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,breakpoints:{320:{slidesPerView:2,spaceBetween:20},480:{slidesPerView:3,spaceBetween:20},640:{slidesPerView:4,spaceBetween:20},800:{slidesPerView:4,spaceBetween:20}}},{default:T(()=>[(u(!0),_(k,null,I(b(w).randomProductsByNum(9),l=>(u(),et(L,{key:l},{default:T(()=>[a(m,{product:l},null,8,["product"])]),_:2},1024))),128))]),_:1})])])],64)}}};export{le as default};
